<div class="container">
    <h2 class="text-center mb-4">Mój powód do wdzięczności</h2>

    <div class="card p-3 mb-5">
        <div class="row">
        </div>
        <div class="row">
            <div class="col-md-6">
                <input class="form-control" [(ngModel)]="newGratitudeTitle" placeholder="powód wdzięczności">
            </div>
            <div class="col-md-4">
                <input class="form-control" [(ngModel)]="newGratitudeDate" type="date" placeholder="data">
            </div>
            <div class="col-md-2">
                <button class="btn btn-primary w-100" (click)="addGratitude()">Dodaj</button>
            </div>
        </div>
    </div>


    <h2 class="text-center mb-4">Moje drzewko wdzięczności</h2>

    <ul class="list-group mb-5">
        @for (gratitude of gratitudes; track gratitude.id; let i = $index) {
        <li class="list-group-item d-flex justify-content-between align-items-center">
            {{gratitude.title}} {{gratitude.date | date: 'dd.MM.yyyy'}}
            <button class="btn btn-danger" (click)="deleteGratitude(i)">Usuń</button>
        </li>
        }
    </ul>

    <!-- Delete Confirmation Modal -->
    @if (showDeleteModal) {
    <div class="modal-backdrop" (click)="closeDeleteModal()">
        <div class="modal-dialog" (click)="$event.stopPropagation()">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Potwierdź usunięcie</h5>
                </div>
                <div class="modal-body">
                    <p>Czy na pewno chcesz usunąć tę wdzięczność?</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" (click)="closeDeleteModal()">Anuluj</button>
                    <button type="button" class="btn btn-danger" (click)="confirmDelete()">Usuń</button>
                </div>
            </div>
        </div>
    </div>
    }
</div>